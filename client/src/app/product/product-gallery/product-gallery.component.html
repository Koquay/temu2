<div class="container-fluid my-4">
  <app-product-filter />

  <div class="row">
    @for (product of products; track $index) {
    <div
      class="col-12 col-md-4 col-lg-3 col-xl-2 mb-4"
      [routerLink]="['/product-view', product._id]"
    >
      <img
        class="img-fluid"
        width="800"
        height="800"
        src="assets/img/{{ product.images[0] }}"
      /><small>{{ product.description.substring(0, 27) + "..." }}</small>
      <div class="d-flex justify-content-between align-items-center">
        <small style="width: 31px; font-weight: bold; font-size: 19px">{{
          product?.price || 0 | discountPricePipe : product?.discount || 0
        }}</small
        ><small class="text-decoration-line-through">{{
          product.price | currency
        }}</small
        ><i class="fa fa-cart-plus" style="width: 12.9px; font-size: 24px"></i>
      </div>

      <div>
        <span [createRatingStars]="product.rating">
          <span> </span>
        </span>
      </div>
    </div>
    }
  </div>

  <div class="row mt-4">
    <app-pagination
      [productCount]="productCount"
      (pageChangeEvent)="goToPage($event)"
    />
  </div>
</div>
